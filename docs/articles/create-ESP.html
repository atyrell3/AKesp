<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- Inform modern browsers that this page supports both dark and light color schemes,
  and the page author prefers light. --><meta name="color-scheme" content="dark light">
<script>
  // If `prefers-color-scheme` is not supported, fall back to light mode.
  // i.e. In this case, inject the `light` CSS before the others, with
  // no media filter so that it will be downloaded with highest priority.
  if (window.matchMedia("(prefers-color-scheme: dark)").media === "not all") {
    document.documentElement.style.display = "none";
    document.head.insertAdjacentHTML(
      "beforeend",
      "<link id=\"css\" rel=\"stylesheet\" href=\"https://bootswatch.com/3/flatly/bootstrap.css\" onload=\"document.documentElement.style.display = ''\">"
    );
  }
</script><title>Create ESP reports • AKesp</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Create ESP reports">
<meta property="og:description" content="AKesp">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Flatly Theme - Light  --><link id="css-light" rel="stylesheet" href="https://bootswatch.com/3/flatly/bootstrap.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)">
<!-- Darkly Theme - Dark --><link id="css-dark" rel="stylesheet" href="https://bootswatch.com/3/darkly/bootstrap.css" media="(prefers-color-scheme: dark)">
<!-- preferably CSS --><link rel="stylesheet" href="../preferably.css">
<link id="css-code-light" rel="stylesheet" href="../code-color-scheme-light.css" media="(prefers-color-scheme: light), (prefers-color-scheme: no-preference)">
<link id="css-code-dark" rel="stylesheet" href="../code-color-scheme-dark.css" media="(prefers-color-scheme: dark)">
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">AKesp</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/install-package.html">Install package</a>
    </li>
    <li>
      <a href="../articles/query-data.html">Query data</a>
    </li>
    <li>
      <a href="../articles/create-figures.html">Create figures</a>
    </li>
    <li>
      <a href="../articles/create-tables.html">Create tables</a>
    </li>
    <li>
      <a href="../articles/create-ESP.html">Create ESP reports</a>
    </li>
    <li>
      <a href="../articles/use-google.html">Use Google Drive</a>
    </li>
    <li>
      <a href="../articles/update-pkg.html">Updating this package</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="../mailto:abigail.tyrell@noaa.gov">
    <span class="fas fa-paper-plane fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/atyrell3/AKesp/issues/" class="external-link">
    <span class="fas fa-question-circle fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/atyrell3/AKesp" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
        
        


      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Create ESP reports</h1>
            
      
      
      <div class="hidden name"><code>create-ESP.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="esp-report-cards">ESP report cards<a class="anchor" aria-label="anchor" href="#esp-report-cards"></a>
</h2>
<p>An ESP report card with default settings can be produced using the
code below. Run <code>?AKesp::render_esp()</code> to see the help file
and learn how to update the parameters to incorporate specific
information on your stock of interest.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">AKesp</span><span class="fu">::</span><span class="fu"><a href="../reference/render_esp.html">render_esp</a></span><span class="op">(</span></span>
<span>  esp_data <span class="op">=</span> <span class="fu">AKesp</span><span class="fu">::</span><span class="fu"><a href="../reference/get_esp_data.html">get_esp_data</a></span><span class="op">(</span><span class="st">"Alaska Sablefish"</span><span class="op">)</span>,</span>
<span>  esp_type <span class="op">=</span> <span class="st">"report_card"</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="partial-and-full-esps">Partial and full ESPs<a class="anchor" aria-label="anchor" href="#partial-and-full-esps"></a>
</h2>
<div class="section level3">
<h3 id="create-your-template">Create your template<a class="anchor" aria-label="anchor" href="#create-your-template"></a>
</h3>
<p>The <code><a href="../reference/create_template.html">AKesp::create_template</a></code> function creates an ESP
template at the specified path. I strongly suggest using the
<code>here</code> package to reference file paths.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">AKesp</span><span class="fu">::</span><span class="fu"><a href="../reference/create_template.html">create_template</a></span><span class="op">(</span></span>
<span>  path <span class="op">=</span> <span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  type <span class="op">=</span> <span class="st">"full"</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="images/files.png" width="971"></p>
</div>
<div class="section level3">
<h3 id="create-your-content">Create your content<a class="anchor" aria-label="anchor" href="#create-your-content"></a>
</h3>
<ul>
<li>Put all figures in the <code>images</code> folder (.png or .jpeg
format) and fill out <code>figure_spreadsheet.csv</code>. Enter figures
into the spreadsheet in the order you want them to appear. If you’d like
to include any of the “standard” ESP figures, you can use a keyword in
the chunk_name column (these keywords are automatically included in the
template <code>figure_spreadsheet.csv</code>):</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"figure_spreadsheet.csv"</span>,</span>
<span>                package <span class="op">=</span> <span class="st">"AKesp"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="11%">
<col width="11%">
<col width="37%">
<col width="21%">
<col width="17%">
</colgroup>
<thead><tr class="header">
<th align="left">file_name</th>
<th align="left">chunk_name</th>
<th align="left">description</th>
<th align="left">caption</th>
<th align="left">alt_text</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">images/noaa.jpg</td>
<td align="left">noaa</td>
<td align="left">NOAA logo</td>
<td align="left">The NOAA logo.</td>
<td align="left">An image of the NOAA logo</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">conceptual-model</td>
<td align="left">shortcut to include conceptual model</td>
<td align="left">will be automatically produced</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">traffic-eco</td>
<td align="left">shortcut to include ecosystem traffic light figure</td>
<td align="left">will be automatically produced</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">traffic-socio</td>
<td align="left">shortcut to include socioeconomic traffic light
figure</td>
<td align="left">will be automatically produced</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">overall</td>
<td align="left">shortcut to include overall traffic score figure</td>
<td align="left">will be automatically produced</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">bayesian</td>
<td align="left">shortcut to include bayesian summary figure</td>
<td align="left">will be automatically produced</td>
<td align="left"></td>
</tr>
</tbody>
</table>
<ul>
<li>Put all tables in the <code>tables</code> folder (.csv format) and
fill out <code>table_spreadsheet.csv</code>. Enter tables into the
spreadsheet in the order you want them to appear. If you’d like to
include the “standard” ESP tables, you can use a keyword in the
chunk_name column (these keywords are automatically included in the
template <code>table_spreadsheet.csv</code>):</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"table_spreadsheet.csv"</span>,</span>
<span>                package <span class="op">=</span> <span class="st">"AKesp"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">dat</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="15%">
<col width="9%">
<col width="49%">
<col width="25%">
</colgroup>
<thead><tr class="header">
<th align="left">file_name</th>
<th align="left">chunk_name</th>
<th align="left">description</th>
<th align="left">caption</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">tables/example.csv</td>
<td align="left">example</td>
<td align="left">example table</td>
<td align="left">An example table</td>
</tr>
<tr class="even">
<td align="left"></td>
<td align="left">eco-table</td>
<td align="left">shortcut for creating the ecosystem traffic light
table</td>
<td align="left">will be automatically produced</td>
</tr>
<tr class="odd">
<td align="left"></td>
<td align="left">socio-table</td>
<td align="left">shortcut for creating the socioeconomic traffic light
table</td>
<td align="left">will be automatically produced</td>
</tr>
</tbody>
</table>
<ul>
<li><p>Put all your references in the
<code>references_spreadsheet.csv</code>, following the example format. A
<code>references.bib</code> file will be created and used to compile
your in-text references and literature cited section.</p></li>
<li><p>Edit <code>...-esp-text-template.docx</code> (can be done on
Google Drive and then downloaded). Remember to follow markdown
formatting syntax for tables, figures, and references using keywords
from the respective spreadsheets.</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="create-the-esp">Create the ESP<a class="anchor" aria-label="anchor" href="#create-the-esp"></a>
</h3>
<p>Finally, use <code><a href="../reference/render_esp.html">AKesp::render_esp</a></code> to generate your ESP from
the template content.</p>
<div class="section level4">
<h4 id="example-full-esp">Example full ESP<a class="anchor" aria-label="anchor" href="#example-full-esp"></a>
</h4>
<p>After creating a full ESP template, running
<code><a href="../reference/render_esp.html">AKesp::render_esp</a></code> will produce an example ESP using the
data and parameters that you specify. Due to the pagination of the
traffic light figures combined with Rmarkdown figure rendering
limitations, you will need to copy and paste the traffic light figures
into the correct order and delete repetitive captions (these sections
are marked in the output).</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">AKesp</span><span class="fu">::</span><span class="fu"><a href="../reference/render_esp.html">render_esp</a></span><span class="op">(</span></span>
<span>  esp_type <span class="op">=</span> <span class="st">"full"</span>,</span>
<span>  esp_data <span class="op">=</span> <span class="fu">AKesp</span><span class="fu">::</span><span class="fu"><a href="../reference/get_esp_data.html">get_esp_data</a></span><span class="op">(</span><span class="st">"Alaska Sablefish"</span><span class="op">)</span>,</span>
<span>  esp_text <span class="op">=</span> <span class="st">"full-esp-text-template.docx"</span>,</span>
<span>  fig_spreadsheet <span class="op">=</span> <span class="st">"figure_spreadsheet.csv"</span>,</span>
<span>  tab_spreadsheet <span class="op">=</span> <span class="st">"table_spreadsheet.csv"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p align="center">
<img src="images/EXAMPLE-FULL-ESP_Page_1.png" width="80%" style="background-color: #9ecff7; padding:5px;"><img src="images/EXAMPLE-FULL-ESP_Page_2.png" width="80%" style="background-color: #9ecff7; padding:5px;"><img src="images/EXAMPLE-FULL-ESP_Page_3.png" width="80%" style="background-color: #9ecff7; padding:5px;"><img src="images/EXAMPLE-FULL-ESP_Page_4.png" width="80%" style="background-color: #9ecff7; padding:5px;"><img src="images/EXAMPLE-FULL-ESP_Page_5.png" width="80%" style="background-color: #9ecff7; padding:5px;"><img src="images/EXAMPLE-FULL-ESP_Page_6.png" width="80%" style="background-color: #9ecff7; padding:5px;"></p>
</div>
<div class="section level4">
<h4 id="esp-parameters">ESP parameters<a class="anchor" aria-label="anchor" href="#esp-parameters"></a>
</h4>
<p>To see the parameters that can be changed for the ESP:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">?</span><span class="fu">AKesp</span><span class="fu">::</span><span class="fu"><a href="../reference/render_esp.html">render_esp</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><img src="images/help.png" width="70%" style="display: block; margin: auto;"></p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="esp-one-pager">ESP one pager<a class="anchor" aria-label="anchor" href="#esp-one-pager"></a>
</h2>
<p>A “one pager” is shorter than a report card and summarizes the ESP in
a single page. See <code>?AKesp::one_pager()</code> for more information
on how to update the parameters to customize your one pager.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dat</span> <span class="op">&lt;-</span> <span class="fu">AKesp</span><span class="fu">::</span><span class="fu"><a href="../reference/get_esp_data.html">get_esp_data</a></span><span class="op">(</span><span class="st">"Alaska Sablefish"</span><span class="op">)</span></span>
<span><span class="fu">AKesp</span><span class="fu">::</span><span class="fu"><a href="../reference/one_pager.html">one_pager</a></span><span class="op">(</span></span>
<span>  overall_data <span class="op">=</span> <span class="va">dat</span>,</span>
<span>  data <span class="op">=</span> <span class="va">dat</span> <span class="op">%&gt;%</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">CATEGORY</span> <span class="op">==</span> <span class="st">"Lower Trophic"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="images/one-pager.png" width="70%" style="display: block; margin: auto;"></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="https://github.com/atyrell3" class="external-link">Abigail Tyrell</a>, <a href="https://github.com/kshotwell" class="external-link">Kalei Shotwell</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
  <p class="preferably">Using <a href="https://preferably.amirmasoudabdol.name/?source=footer" class="external-link">preferably</a> template.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
