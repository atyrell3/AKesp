params = list(esp_data = AKesp::get_esp_data("Alaska Sablefish"),
fish = "Sablefish",
region = "Alaska",
stock_image = "images/noaa.jpg",
con_model_path = "images/noaa.jpg",
bayes_path = "images/noaa.jpg"))
devtools::load_all()
rmarkdown::render(here::here("inst/esp-report-card-template.Rmd"),
clean = FALSE,
params = list(esp_data = AKesp::get_esp_data("Alaska Sablefish"),
fish = "Sablefish",
region = "Alaska",
stock_image = "images/noaa.jpg",
con_model_path = "images/noaa.jpg",
bayes_path = "images/noaa.jpg"))
roxygen2::roxygenise()
indicator_order <- read.csv(here::here("data-raw/ESP_Lookup_Order.csv"))
usethis::use_data(indicator_order)
my_save <- function(x) {
data <- get(x)
sinew::makeOxygen(data)
print(x)
}
sink("R/data2.R")
my_save("indicator_order")
sink()
head(indicator_order)
tail(indicator_order)
roxygen2::roxygenise()
dat <- AKesp::get_esp_data("Alaska Sablefish")
AKesp::prep_ind_data(data = dat)
head(dat)
View(head(dat))
head(indicator_order)
devtools::load_all()
rmarkdown::render(here::here("inst/esp-report-card-template.Rmd"),
clean = FALSE,
params = list(esp_data = AKesp::get_esp_data("Alaska Sablefish"),
fish = "Sablefish",
region = "Alaska",
stock_image = "images/noaa.jpg",
con_model_path = "images/noaa.jpg",
bayes_path = "images/noaa.jpg"))
devtools::load_all()
rmarkdown::render(here::here("inst/esp-report-card-template.Rmd"),
clean = FALSE,
params = list(esp_data = AKesp::get_esp_data("Alaska Sablefish"),
fish = "Sablefish",
region = "Alaska",
stock_image = "images/noaa.jpg",
con_model_path = "images/noaa.jpg",
bayes_path = "images/noaa.jpg"))
prep_ind_data(data = dat)
head(dat)
devtools::load_all()
rmarkdown::render(here::here("inst/esp-report-card-template.Rmd"),
clean = FALSE,
params = list(esp_data = AKesp::get_esp_data("Alaska Sablefish"),
fish = "Sablefish",
region = "Alaska",
stock_image = "images/noaa.jpg",
con_model_path = "images/noaa.jpg",
bayes_path = "images/noaa.jpg"))
devtools::load_all()
rmarkdown::render(here::here("inst/esp-report-card-template.Rmd"),
clean = FALSE,
params = list(esp_data = AKesp::get_esp_data("Alaska Sablefish"),
fish = "Sablefish",
region = "Alaska",
stock_image = "images/noaa.jpg",
con_model_path = "images/noaa.jpg",
bayes_path = "images/noaa.jpg"))
devtools::load_all()
rmarkdown::render(here::here("inst/esp-report-card-template.Rmd"),
clean = FALSE,
params = list(esp_data = AKesp::get_esp_data("Alaska Sablefish"),
fish = "Sablefish",
region = "Alaska",
stock_image = "images/noaa.jpg",
con_model_path = "images/noaa.jpg",
bayes_path = "images/noaa.jpg"))
devtools::load_all()
rmarkdown::render(here::here("inst/esp-report-card-template.Rmd"),
clean = FALSE,
params = list(esp_data = AKesp::get_esp_data("Alaska Sablefish"),
fish = "Sablefish",
region = "Alaska",
stock_image = "images/noaa.jpg",
con_model_path = "images/noaa.jpg",
bayes_path = "images/noaa.jpg"))
warnings()
?ggplot2::geom_label
?scale_fontface_manual
devtools::load_all()
rmarkdown::render(here::here("inst/esp-report-card-template.Rmd"),
clean = FALSE,
params = list(esp_data = AKesp::get_esp_data("Alaska Sablefish"),
fish = "Sablefish",
region = "Alaska",
stock_image = "images/noaa.jpg",
con_model_path = "images/noaa.jpg",
bayes_path = "images/noaa.jpg"))
?fontface
?ggplot2::geom_label
devtools::load_all()
rmarkdown::render(here::here("inst/esp-report-card-template.Rmd"),
clean = FALSE,
params = list(esp_data = AKesp::get_esp_data("Alaska Sablefish"),
fish = "Sablefish",
region = "Alaska",
stock_image = "images/noaa.jpg",
con_model_path = "images/noaa.jpg",
bayes_path = "images/noaa.jpg"))
roxygen2::roxygenise()
pkgdown::build_site()
my_save <- function(x) {
data <- get(x)
sinew::makeOxygen(data)
print(x)
}
sink("R/data2.R")
my_save("bbrkc_long")
sink()
roxygen2::roxygenise()
styler::style_dir("R")
pkgdown::build_site()
pkgdown::build_site()
pkgdown::build_site()
pkgdown::build_site()
roxygen2::roxygenise()
pkgdown::build_site()
pkgdown::build_site()
styler::style_dir("vignettes", filetype = "Rmd")
>rmarkdown::render
?rmarkdown::render
styler::style_file("examples/developing_report_card.R")
# install package
devtools::install_github("atyrell3/AKesp")
?devtools::install_github
# install package
devtools::install_github("atyrell3/AKesp", upgrade = "never")
# install package
devtools::install_github("atyrell3/AKesp", upgrade = "never")
# score is calculated by the functions
# can change where output renders - defaults to working directory
# replace dummy figure paths with path to real figures (suggest to use `here` package)
# figure captions/numbers are not perfect, but should at least be a good starting point
# sample text was copied from the sablefish report card
rmarkdown::render(system.file("esp-report-card-template.Rmd",
package = "AKesp"
),
clean = TRUE,
output_dir = getwd(),
params = list(
esp_data = AKesp::get_esp_data("Alaska Sablefish"),
fish = "Sablefish",
region = "Alaska",
stock_image = "inst/images/noaa.jpg",
con_model_path = "inst/images/noaa.jpg",
bayes_path = "inst/images/noaa.jpg"
)
)
AKesp::get_esp_data
roxygen2::roxygenise()
remove.packages("AKesp")
# install package
devtools::install_github("atyrell3/AKesp", upgrade = "never")
# score is calculated by the functions
# can change where output renders - defaults to working directory
# replace dummy figure paths with path to real figures (suggest to use `here` package)
# figure captions/numbers are not perfect, but should at least be a good starting point
# sample text was copied from the sablefish report card
rmarkdown::render(system.file("esp-report-card-template.Rmd",
package = "AKesp"
),
clean = TRUE,
output_dir = getwd(),
params = list(
esp_data = AKesp::get_esp_data("Alaska Sablefish"),
fish = "Sablefish",
region = "Alaska",
stock_image = "inst/images/noaa.jpg",
con_model_path = "inst/images/noaa.jpg",
bayes_path = "inst/images/noaa.jpg"
)
)
# score is calculated by the functions
# can change where output renders - defaults to working directory
# replace dummy figure paths with path to real figures (suggest to use `here` package)
# figure captions/numbers are not perfect, but should at least be a good starting point
# sample text was copied from the sablefish report card
rmarkdown::render(system.file("esp-report-card-template.Rmd",
package = "AKesp"
),
clean = TRUE,
output_dir = getwd(),
params = list(
esp_data = AKesp::get_esp_data("Alaska Sablefish"),
fish = "Sablefish",
region = "Alaska",
stock_image = here::here("inst/images/noaa.jpg"),
con_model_path = here::here("inst/images/noaa.jpg"),
bayes_path = here::here("inst/images/noaa.jpg")
)
)
# install package
remove.packages("AKesp")
devtools::install_github("atyrell3/AKesp", upgrade = "never")
# score is calculated by the functions
# can change where output renders - defaults to working directory
# replace dummy figure paths with path to real figures (suggest to use `here` package)
# figure captions/numbers are not perfect, but should at least be a good starting point
# sample text was copied from the sablefish report card
rmarkdown::render(system.file("esp-report-card-template.Rmd",
package = "AKesp"
),
clean = TRUE,
output_dir = getwd(),
params = list(
esp_data = AKesp::get_esp_data("Alaska Sablefish"),
fish = "Sablefish",
region = "Alaska",
stock_image = here::here("inst/images/noaa.jpg"),
con_model_path = here::here("inst/images/noaa.jpg"),
bayes_path = here::here("inst/images/noaa.jpg")
)
)
?rmarkdown::render
pkgdown::build_site()
pkgdown::build_site()
pkgdown::build_site()
pkgdown::build_site()
pkgdown::build_site()
pkgdown::build_site()
pkgdown::build_site()
head(NEesp::survey)
`%>%` <- magrittr::`%>%`
NEesp::survey %>% dplyr::filter(Species == "Bluefish")
dat <- NEesp::survey %>% dplyr::filter(Species == "Bluefish")
hist(dat$LENGTH)
dat <- NEesp::survey %>% dplyr::filter(Species == "Bluefish") %>% dplyr::select(date, fish_id, LENGTH, NUMLEN) %>% dplyr::distinct()
hist(dat$LENGTH * dat$NUMLEN)
head(dat)
hist(dat$NUMLEN)
dat %>% dplyr::filter(NUMLEN > 1)
dat %>% dplyr::filter(NUMLEN > 10)
dat %>% dplyr::filter(NUMLEN > 20)
dat %>% dplyr::filter(NUMLEN > 100)
dat %>% dplyr::filter(NUMLEN > 200)
?case_when
x <- 1:50
case_when(
x %% 35 == 0 ~ "fizz buzz",
x %% 5 == 0 ~ "fizz",
x %% 7 == 0 ~ "buzz",
TRUE ~ as.character(x)
)
x <- 1:50
dplyr::case_when(
x %% 35 == 0 ~ "fizz buzz",
x %% 5 == 0 ~ "fizz",
x %% 7 == 0 ~ "buzz",
TRUE ~ as.character(x)
)
?AKesp::get_esp_data()
AKesp::esp_stock_options()
head(AKesp::get_esp_data("Alaska Sablefish"))
devtools::load_all()
esp_stock_options()
dat <- get_esp_data("GOA Pacific Cod")
View(dat)
rmarkdown::render(system.file("esp-report-card-template.Rmd",
package = "AKesp"
),
output_dir = getwd(),
params = list(
esp_data = dat,
fish = "Sablefish",
region = "Alaska",
stock_image = here::here("inst/images/noaa.jpg"),
con_model_path = here::here("inst/images/noaa.jpg"),
bayes_path = here::here("inst/images/noaa.jpg")
)
)
prep_ind_data(dat)
unique(prep_ind_data(dat)$INDICATOR_NAME)
devtools::load_all()
unique(prep_ind_data(dat)$INDICATOR_NAME)
prep_ind_data(dat)
is.na(dat$GATE2_YEAR)
"NA" == NA
NA == "NA"
devtools::load_all()
prep_ind_data(dat)
unique(prep_ind_data(dat)$INDICATOR_NAME)
roxygen2::roxygenise()
devtools::load_all()
rmarkdown::render(system.file("esp-report-card-template.Rmd",
package = "AKesp"
),
output_dir = getwd(),
params = list(
esp_data = dat,
fish = "Sablefish",
region = "Alaska",
stock_image = here::here("inst/images/noaa.jpg"),
con_model_path = here::here("inst/images/noaa.jpg"),
bayes_path = here::here("inst/images/noaa.jpg")
)
)
# remove package before re-installing
remove.packages("AKesp")
# install package
devtools::install_github("atyrell3/AKesp", upgrade = "never")
# goa pcod
rmarkdown::render(system.file("esp-report-card-template.Rmd",
package = "AKesp"
),
output_dir = getwd(),
params = list(
esp_data = AKesp::get_esp_data("GOA Pacific Cod"),
fish = "Pacific Cod",
region = "GOA",
stock_image = here::here("inst/images/noaa.jpg"),
con_model_path = here::here("inst/images/noaa.jpg"),
bayes_path = here::here("inst/images/noaa.jpg")
)
)
devtools::load_all()
# goa pcod
rmarkdown::render(system.file("esp-report-card-template.Rmd",
package = "AKesp"
),
output_dir = getwd(),
params = list(
esp_data = AKesp::get_esp_data("GOA Pacific Cod"),
fish = "Pacific Cod",
region = "GOA",
stock_image = here::here("inst/images/noaa.jpg"),
con_model_path = here::here("inst/images/noaa.jpg"),
bayes_path = here::here("inst/images/noaa.jpg")
)
)
?ggplot2::ggtitle
?theme
devtools::load_all()
# goa pcod
rmarkdown::render(system.file("esp-report-card-template.Rmd",
package = "AKesp"
),
output_dir = getwd(),
params = list(
esp_data = AKesp::get_esp_data("GOA Pacific Cod"),
fish = "Pacific Cod",
region = "GOA",
stock_image = here::here("inst/images/noaa.jpg"),
con_model_path = here::here("inst/images/noaa.jpg"),
bayes_path = here::here("inst/images/noaa.jpg")
)
)
devtools::load_all()
# goa pcod
rmarkdown::render(system.file("esp-report-card-template.Rmd",
package = "AKesp"
),
output_dir = getwd(),
params = list(
esp_data = AKesp::get_esp_data("GOA Pacific Cod"),
fish = "Pacific Cod",
region = "GOA",
stock_image = here::here("inst/images/noaa.jpg"),
con_model_path = here::here("inst/images/noaa.jpg"),
bayes_path = here::here("inst/images/noaa.jpg")
)
)
# goa pcod
rmarkdown::render(system.file("esp-report-card-template.Rmd",
package = "AKesp"
),
output_dir = getwd(),
params = list(
esp_data = AKesp::get_esp_data("GOA Pacific Cod"),
fish = "Pacific Cod",
region = "GOA",
stock_image = here::here("inst/images/noaa.jpg"),
con_model_path = here::here("inst/images/noaa.jpg"),
bayes_path = here::here("inst/images/noaa.jpg")
)
)
devtools::load_all()
# goa pcod
rmarkdown::render(system.file("esp-report-card-template.Rmd",
package = "AKesp"
),
output_dir = getwd(),
params = list(
esp_data = AKesp::get_esp_data("GOA Pacific Cod"),
fish = "Pacific Cod",
region = "GOA",
stock_image = here::here("inst/images/noaa.jpg"),
con_model_path = here::here("inst/images/noaa.jpg"),
bayes_path = here::here("inst/images/noaa.jpg")
)
)
dat <- read.csv("../Bluefish/bluefish_lit_review.csv")
head(dat)
colnames(dat)
dat$Abstract[1]
relevant <- c()
dat[1,]
relevant[1] <- TRUE
i <- 2
dat$Abstract[i]
i <- 3
dat$Abstract[i]
i <- 1
dat$Abstract[i]
region <- c()
summary <- c()
i <- 1
dat$Abstract[i]
region[i] <- "US"
summary[i] <- "larval transport"
i <- 2
dat$Abstract[i]
region[i] <- "Africa"
summary[i] <- "diet is flexible to changes in prey"
i <- 3
dat$Abstract[i]
region[i] <- "Mediterranean"
summary[i] <- "bluefish abundance has increased"
i <- 4
dat$Abstract[i]
region[i] <- "lab"
summary[i] <- "bluefish used as predator in cuttlefish experiment"
i <- 5
dat$Abstract[i]
region[i] <- "North Atlantic"
summary[i] <- "Western and Eastern North Atlantic bluefish are genetically isolated from each other"
i <- 6
dat$Abstract[i]
region[i] <- "Western Atlantic"
summary[i] <- "mako shark tagging study. dive deeper to forage when temps are colder"
i <- 7
dat$Abstract[i]
region[i] <- "Europe"
summary[i] <- "invasion of pacific oysters in European waters"
i <- 8
dat$Abstract[i]
region[i] <- "Australia"
summary[i] <- "MPA creation in Australia"
i <- 9
dat$Abstract[i]
region[i] <- "Australia"
summary[i] <- "Arripis trutta diet shift"
i <- 10
dat$Abstract[i]
region[i] <- "New Jersey"
summary[i] <- "PCBs in fish"
i <- 11
dat$Abstract[i]
region[i] <- "Gulf of Mexico"
summary[i] <- "Effect of riverine nutrient discharge on fish production"
i <- 12
dat$Abstract[i]
region[i] <- "Mediterranean"
summary[i] <- "Bluefish shifting northward due to increasing temperatures"
i <- 12
dat$Abstract[i]
i <- 13
dat$Abstract[i]
region[i] <- "Australia"
summary[i] <- "Bluefish juveniles use coastal nurseries as well as estuaries"
i <- 14
dat$Abstract[i]
notes <- cbind(region, summary)
notes
write.csv(notes, "../Bluefish/lit_summary.csv")
# ebs pcod
rmarkdown::render(system.file("esp-report-card-template.Rmd",
package = "AKesp"
),
output_dir = getwd(),
params = list(
esp_data = AKesp::get_esp_data("EBS Pacific Cod"),
fish = "Pacific Cod",
region = "EBS",
stock_image = here::here("inst/images/noaa.jpg"),
con_model_path = here::here("inst/images/noaa.jpg"),
bayes_path = here::here("inst/images/noaa.jpg")
)
)
devtools::load_all()
# ebs pcod - using a minimum year
rmarkdown::render(system.file("esp-report-card-template.Rmd",
package = "AKesp"
),
output_dir = getwd(),
params = list(
esp_data = AKesp::get_esp_data("EBS Pacific Cod"),
fish = "Pacific Cod",
region = "EBS",
min_year = 1977,
stock_image = here::here("inst/images/noaa.jpg"),
con_model_path = here::here("inst/images/noaa.jpg"),
bayes_path = here::here("inst/images/noaa.jpg")
)
)
roxygen2::roxygenise()
?usethis::use_pkgdown
?usethis
?usethis::use_pkgdown
